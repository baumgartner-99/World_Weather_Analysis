google.maps.__gjsload__('visualization_impl', function(_){var Nib=function(){if(null!=Mib)return Mib;var a=document.createElement("canvas");return Mib=!(!a.getContext||!a.getContext("2d"))},Y$=function(a){for(var b=Array(a),c=0;c<a;++c)b[c]=0;c=Array(a);for(var d=0;d<a;++d)c[d]=b.concat();return c},Oib=function(a){if(!a||!a.getLength())return 1;var b=new _.Cf;a.forEach(function(l){l&&b.extend(l.location?l.location:l)});var c=b.ub.lo,d=b.Ra.lo,e=Math.max(b.ub.hi-c,b.Ra.hi-d);if(1E-9>e){var f=0;a.forEach(function(l){l instanceof _.De?++f:f+=l.weight});return Math.max(1,
f)}var g=800/e,h=Y$(800),k=1;a.forEach(function(l){if(l){var m=l.location?l.location:l;l=l.weight||1;m=new _.R(Math.max(0,Math.min(799,Math.floor((m.lat()-c)*g))),Math.max(0,Math.min(799,Math.floor((m.lng()-d)*g))));h[m.x][m.y]+=l;k=Math.max(k,h[m.x][m.y])}});return k},Qib=function(a,b){var c=[],d=[],e=1E3/(a.length-1);_.rb(a,function(h,k){c.push(k*e);d.push(_.TC(h))});a=Array(1001);for(var f=0,g=0;1001>g;++g)g>c[f+1]&&++f,a[g]=f<c.length-1?Pib(e*f,g,e*(f+1),d[f],d[f+1]):d[d.length-1],a[g].alpha*=
b,a[g].alpha=_.ae(Math.floor(255*a[g].alpha),0,255);return a},Pib=function(a,b,c,d,e){if(a==c)return d;a=(b-a)/(c-a);return new _.RC(Math.floor((e.i-d.i)*a+d.i),Math.floor((e.h-d.h)*a+d.h),Math.floor((e.g-d.g)*a+d.g),(e.alpha-d.alpha)*a+d.alpha)},Rib=function(a,b){this.j=a;this.h=b;this.g=1;this.i=[]},Tib=function(a,b,c){b.Ea.textContent="";if(Nib()){var d=b.ownerDocument,e,f=e=d.createElement("canvas");_.Am(f);f.width=f.height=256;f=f.getContext("2d");var g=1<a.g;b.Ea.appendChild(e);b=Sib(a,b);e=
a.i;for(var h=Math.floor(e.length/2),k=b.length,l=k-h,m=Y$(k),p=0;p<k;++p)for(var q=b[p],r=m[p],t=0;t<k;++t){var v=q[t];if(v)for(var w=t-h,y=Math.min(l,t+h+1),z=Math.max(h,w);z<y;++z)r[z]+=v*e[z-w]}b=Y$(k-2*h);for(p=0;p<k;++p)for(q=m[p],r=Math.max(h,p-h),t=Math.min(l,p+h+1),v=p-h,w=h,y=0;w<l;++w,++y)if(z=q[w])for(var I=r;I<t;++I)b[I-h][y]+=z*e[I-v];e=Math.ceil(256/a.g);e=f.createImageData(e,e);h=a.get("gradient");k=h[h.length-1];c=h.length/c;l=e.data;p=m=0;for(q=b.length;p<q;++p)for(r=b[p],t=0,v=
r.length;t<v;++t)(w=r[t])||h[0].alpha?(w=h[Math.floor(w*c)]||k,l[m++]=w.i,l[m++]=w.h,l[m++]=w.g,l[m++]=w.alpha):m+=4;g?(d=d.createElement("canvas"),d.width=d.height=256/a.g,d.getContext("2d").putImageData(e,0,0),f.scale(a.g,a.g),f.drawImage(d,0,0)):f.putImageData(e,0,0)}},Sib=function(a,b){var c=a.get("projection");c=_.ql(c);var d=a.get("radius");d=Math.round(d/a.g)*a.g;var e=b.Sg,f=(256+2*d)/a.g,g=Y$(f),h;for(h in e){var k=e[h],l=c.fromLatLngToPoint(new _.De(k.Ca,k.ya,!0)),m=c.fromLatLngToPoint(new _.De(k.Ha,
k.Fa,!0)),p=null;p=_.nq(a.h,new _.Gg(l.x,l.y),b.zoom,function(w){return w});m=_.nq(a.h,new _.Gg(m.x,m.y),b.zoom,function(w){return w});l=d/256;p=_.rq(a.h,{ta:Math.min(p.ta,m.ta)+l,va:Math.min(p.va,m.va)+l,Da:b.zoom});p=new _.R(p.g,p.h);k=a.j.search(k);m=0;for(l=k.length;m<l;++m){var q=k[m],r=c.fromLatLngToPoint(new _.De(q.vb.x,q.vb.y)),t=0,v=0;r=_.Nla(a.h,new _.Gg(r.x,r.y),new _.Gg(p.x,p.y),b.zoom);t=Math.floor(256*r.ta);v=Math.floor(256*r.va);r=Math.floor((v+d)/a.g);t=Math.floor((t+d)/a.g);0<=r&&
r<f&&0<=t&&t<f&&(g[r][t]+=q.weight)}}return g},$$=function(a,b){b=void 0===b?_.xq:b;var c=this;this.l=b;this.o=new _.cg(256,256);this.g={};b=_.$h(-100,-300,100,300);this.m=new _.AC(b);b=_.$h(-90,-180,90,180);this.i=_.Sra(b,function(d,e){return d.vb.equals(e.vb)&&d.weight==e.weight});this.G=[];this.C=new _.Ug;this.h=0;this.j=new Rib(this.i,this.l);this.j.bindTo("projection",this,"projection",!0);this.j.bindTo("gradient",this,"gradient",!0);this.j.bindTo("radius",this,"radius",!0);a(this.C,function(d){return Tib(c.j,
d,c.h)});this.F=new _.ci(function(){var d=c.h;c.h=Uib(c);_.ce(d,c.h)||Z$(c)},0);this.addListener("data_changed",function(){return Vib(c)});this.addListener("maxintensity_changed",function(){c.h=Uib(c);Z$(c)});this.addListener("gradient_changed",function(){Z$(c)});this.addListener("opacity_changed",function(){var d=c.get("opacity"),e;for(e in c.g)c.g.hasOwnProperty(e)&&_.Yu(c.g[e].Ea,d)});this.addListener("radius_changed",function(){for(var d in c.g)if(c.g.hasOwnProperty(d)){var e=c.g[d],f=void 0,
g=e.Sg;for(f in g)g.hasOwnProperty(f)&&c.m.remove(g[f]);e.Sg={};Wib(c,e)}Z$(c)});this.triggersTileLoadEvent=!0},Wib=function(a,b){var c={ta:b.Jb.x,va:b.Jb.y,Da:b.zoom},d=a.get("radius"),e=_.ql(a.get("projection")),f=_.rq(a.l,c);f=new _.R(f.g,f.h);d=_.zu(a.l,c,d/256);c=d.min;d=d.max;c=_.$h(c.g,c.h,d.g,d.h);_.Tra(c,e,f,function(g){g.g=b;b.Sg[_.ef(g)]=g;_.BC(a.m,g)})},Uib=function(a){var b=a.get("maxIntensity");return 1<=b?b:Oib(a.get("data"))},Vib=function(a){a.i.clear();var b=a.get("data");b&&(b.forEach(function(e){e&&
_.EC(a.i,Xib(e))}),a.F.Kd());Z$(a);for(var c=_.A(a.G),d=c.next();!d.done;d=c.next())_.K.removeListener(d.value);a.G=b?[b.addListener("insert_at",function(e){return Yib(a,e)}),b.addListener("remove_at",function(e,f){return Zib(a,f)}),b.addListener("set_at",function(e,f){Zib(a,f);Yib(a,e)})]:[]},Yib=function(a,b){if(b=a.get("data").getAt(b))b=Xib(b),_.EC(a.i,b),a.F.Kd(),$ib(a,b.vb)},Zib=function(a,b){b&&(b=Xib(b),a.i.remove(b),a.F.Kd(),$ib(a,b.vb))},$ib=function(a,b){b=_.Rra(a.m,b);b=_.A(b);for(var c=
b.next();!c.done;c=b.next())_.Vg(a.C,c.value.g)},Z$=function(a){for(var b in a.g)a.g.hasOwnProperty(b)&&_.Vg(a.C,a.g[b])},Xib=function(a){var b=a.location?a.location:a;a=a.weight||1;return{vb:new _.R(b.lat(),b.lng()),weight:a}},ajb=function(a,b){var c=new _.YB(_.rra(250));this.g=a;a.g=(0,_.Oa)(this.i,this);this.l=b;this.h=c},bjb=function(){},Mib,cjb="rgba(102, 255, 0, 0);rgba(102, 255, 0, 1);rgba(147, 255, 0, 1);rgba(193, 255, 0, 1);rgba(238, 255, 0, 1);rgba(244, 227, 0, 1);rgba(249, 198, 0, 1);rgba(255, 170, 0, 1);rgba(255, 113, 0, 1);rgba(255, 57, 0, 1);rgba(255, 0, 0, 1)".split(";");_.D(Rib,_.L);Rib.prototype.radius_changed=function(){var a=this.get("radius");Nib()?this.g=20>a?1:2:this.g=4;a=Math.round(a/this.g);for(var b=a/3,c=[],d=-a;d<=a;d++)c.push(Math.exp(-d*d/(2*b*b)));this.i=c};_.B($$,_.oj);$$.prototype.Nd=function(){return{tileSize:{ia:this.o.width,la:this.o.height},Fb:this.l,Wd:2,ie:this.J.bind(this)}};
$$.prototype.J=function(a,b){var c=this,d=(void 0===b?{}:b).Qc,e=document.createElement("div");_.vi(e,this.o);b=this.get("opacity");void 0!==b&&_.Yu(e,b);var f={Ea:e,zoom:a.Da,Jb:new _.R(a.ta,a.va),Sg:{},ownerDocument:document};e.cd=f;this.g[_.ef(f)]=f;Wib(this,f);this.h||(this.h=Uib(this));Tib(this.j,f,this.h);var g=!1;a=_.x.Promise.resolve();a.then(function(){g=!0});return{xb:function(){return e},Le:function(){return g},loaded:a,release:function(){e.textContent="";delete c.g[_.ef(f)];d&&d()}}};
$$.prototype.releaseTile=function(a){if(a){var b=a.cd;a.cd=null;delete this.g[_.ef(b)];a=this.m;for(var c in b.Sg)b.Sg.hasOwnProperty(c)&&a.remove(b.Sg[c]);b.Ea.textContent=""}};ajb.prototype.i=function(){_.SB(this.h,(0,_.Oa)(this.j,this))};ajb.prototype.j=function(){a:{var a=this.g.ne();for(var b in a){a=a[b];this.g.remove(a);break a}a=null}a&&this.l(a)};bjb.prototype.g=function(a){var b=a.ue,c=a.ue=a.get("map");b&&(a.g&&(a.g.unbindAll(),a.g=null),a.h&&(a.h.release(),a.h=null));if(c){var d=function(){k&&k.unbindAll();k=new $$(g,h);c&&k.bindTo("projection",c);k.bindTo("data",a);k.bindTo("maxIntensity",a);k.bindTo("gradient",e,"colorGradient");k.bindTo("radius",f,"renderingRadius");a.g&&(k.bindTo("opacity",a.g),e.set("opacity",1))};a.g=new _.xr({dissipating:!0,gradient:cjb,opacity:.6,radius:10});a.g.bindTo("dissipating",a);a.g.bindTo("gradient",a);
a.g.bindTo("opacity",a);a.g.bindTo("radius",a);var e=new _.dC(["stringGradient","opacity"],"colorGradient",function(p,q){return Qib(p,q)});e.bindTo("stringGradient",a.g,"gradient",!0);var f=new _.dC(["radius","dissipating","zoom"],"renderingRadius",function(p,q,r){return q?p:Math.min(Math.round(p*Math.pow(2,r)),256)});f.bindTo("radius",a.g);f.bindTo("zoom",c);f.bindTo("dissipating",a.g);var g=function(p,q){new ajb(p,q)};b=c.__gm;var h=void 0,k=null;d();var l=k.Nd(),m=_.ug(l);b.g.then(function(p){p.Di.Kb(function(q){q&&
h!=q.Fb&&(h=q.Fb,d(),m.set(k.Nd()))})});_.LC(c,m,"overlayLayer",15,{ys:function(p){a.h&&a.h.release();a.h=p}});_.P(c,"Lh");_.O(c,148268)}};_.Xe("visualization_impl",new bjb);});
